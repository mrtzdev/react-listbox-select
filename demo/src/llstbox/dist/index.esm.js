import e from"react";function l(e,l){return function(e){if(Array.isArray(e))return e}(e)||function(e,l){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var a,r,n=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(n.push(a.value),!l||n.length!==l);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==t.return||t.return()}finally{if(o)throw r}}return n}(e,l)||a(e,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,l){if(e){if("string"==typeof e)return r(e,l);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,l):void 0}}function r(e,l){(null==l||l>e.length)&&(l=e.length);for(var t=0,a=new Array(l);t<l;t++)a[t]=e[t];return a}var n={exports:{}};function i(){}function o(){}o.resetWarningCache=i;n.exports=function(){function e(e,l,t,a,r,n){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function l(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:l,element:e,elementType:e,instanceOf:l,node:e,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:o,resetWarningCache:i};return t.PropTypes=t,t}();var c=n.exports,s=function(t){var a=e.useState,r=e.useEffect,n=l(a({}),2),i=n[0],o=n[1],c=l(a(!1),2),s=c[0],u=c[1],m=t.className,f=t.list,b=t.title,p=t.onChange,d=t.value,v=t.prefixId,y=t.scrollable,_=t.collapsible;return r((function(){o(d)}),[d]),e.createElement(e.Fragment,null,e.createElement("div",{className:"react-listbox-select ".concat(m||"")},_?e.createElement("div",{onClick:function(){u(!s)},id:"rlsm_elem_"+v,className:"listbox-title clickable  ".concat(s?"visible":"")},b):e.createElement("div",{id:"rlsm_elem_"+v,className:"listbox-title"},b),e.createElement("div",{className:"listbox-container ".concat(_?"collapsible":""," ").concat(s?"visible":"")},e.createElement("div",null,e.createElement("ul",{id:"rlsm_elem_list_"+v,role:"listbox","aria-labelledby":"rlsm_elem_"+v,className:"list ".concat(y?"scrollable":"")},f.map((function(l){return e.createElement("li",{key:l.value,className:"item ".concat(l.value===i.value?"selected":""),role:"option","aria-selected":l.value===i.value?"true":"false","aria-label":l.label,id:"rlsm_elem_"+v+"_"+l.value},e.createElement("button",{onClick:function(){var e;e=l.value,p(f.find((function(l){return l.value===e})))},className:"btn-filter","aria-label":l.label},e.createElement("div",{className:"filter-item"},e.createElement("span",{className:"filter-label"}," ",l.label))))}))))))," ")};s.propTypes={title:c.string,list:c.array.isRequired,className:c.string,onChange:c.func,value:c.object,prefixId:c.string,scrollable:c.bool,collapsible:c.bool},s.defaultProps={prefixId:"_single",scrollable:!1,collapsible:!1};var u=function(a){var r=e.useState,n=e.useEffect,i=l(r([]),2),o=i[0],c=i[1],s=l(r(!1),2),u=s[0],m=s[1],f=a.className,b=a.list,p=a.title,d=a.onChange,v=a.values,y=a.prefixId,_=a.scrollable,E=a.collapsible,h=function(e){return o.some((function(l){return l.value===e}))};return n((function(){c(v)}),[v]),e.createElement(e.Fragment,null,e.createElement("div",{className:"react-listbox-select ".concat(f||"")},E?e.createElement("div",{onClick:function(){m(!u)},id:"rlsm_elem_"+y,className:"listbox-title clickable  ".concat(u?"visible":"")},p):e.createElement("div",{id:"rlsm_elem_"+y,className:"listbox-title"},p),e.createElement("div",{className:"listbox-container ".concat(E?"collapsible":""," ").concat(u?"visible":"")},e.createElement("div",null,e.createElement("ul",{id:"rlsm_elem_list_"+y,role:"listbox","aria-labelledby":"rlsm_elem_"+y,"aria-multiselectable":"true",className:"list ".concat(_?"scrollable":"")},b.map((function(l){return e.createElement("li",{key:l.value,id:"rlsm_elem_"+y+"_"+l.value,className:"item ".concat(h(l.value)?"selected":""),role:"option","aria-selected":h(l.value)?"true":"false","aria-label":l.label},e.createElement("button",{onClick:function(){!function(e){var l=function(){return b.find((function(l){return l.value===e}))};if(-1!==o.findIndex((function(e){if(e.value===l().value)return!0}))){var a=o.filter((function(e){return e.value!==l().value}));d(a)}else{var r=[].concat(t(o),[l()]);d(r)}}(l.value)},className:"btn-filter","aria-label":l.label},e.createElement("div",{className:"filter-item"},e.createElement("span",{className:"filter-label"}," ",l.label))))})))))))};u.propTypes={title:c.string,list:c.array.isRequired,onChange:c.func,values:c.array.isRequired,className:c.string,prefixId:c.string,scrollable:c.bool,collapsible:c.bool},u.defaultProps={prefixId:"_multiple",scrollable:!1,collapsible:!1};export{s as ListboxSelect,u as ListboxSelectMultiple};
